{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\joaoc\\\\Documents\\\\GitHub\\\\DIAM-PROJETO\\\\beer_budies_frontend\\\\src\\\\Pages\\\\Grupo.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport Header from '../Header/Header';\nimport Cards from '../Cards/Cards';\nimport Footer from './Footer';\nimport '../cssFiles/Grupo.css';\nimport { useParams } from 'react-router-dom';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Grupo = () => {\n  _s();\n  const {\n    id\n  } = useParams();\n  const [membros, setMembros] = useState([]);\n  const [eventos, setEventos] = useState([]);\n  const [grupo, setGrupo] = useState(null);\n  const [isMember, setIsMember] = useState(false);\n  useEffect(() => {\n    if (!id) return;\n    axios.get(`http://localhost:8000/beer_budies/api/grupos/${id}/`).then(res => setGrupo(res.data));\n    axios.get(`http://localhost:8000/beer_budies/api/grupos/${id}/membros/`).then(res => {\n      setMembros(res.data);\n      // Verifica se o user já é membro\n      const userId = localStorage.getItem('user_id');\n      setIsMember(res.data.some(m => String(m.id) === userId));\n    });\n    axios.get(`http://localhost:8000/beer_budies/api/eventos/?grupo=${id}`).then(res => setEventos(res.data));\n  }, [id]);\n\n  // Busca o user_id ao montar (se ainda não existir)\n  useEffect(() => {\n    if (!localStorage.getItem('user_id')) {\n      axios.get('http://localhost:8000/beer_budies/api/user/id/', {\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem('access')}`\n        }\n      }).then(res => {\n        localStorage.setItem('user_id', res.data.user_id);\n      });\n    }\n  }, []);\n  function juntarAoGrupo() {\n    axios.post(`http://localhost:8000/beer_budies/api/grupos/${id}/juntar/`, {}, {\n      headers: {\n        'Authorization': `Bearer ${localStorage.getItem('access')}`\n      }\n    }).then(() => {\n      // Atualiza membros após juntar\n      axios.get(`http://localhost:8000/beer_budies/api/grupos/${id}/membros/`).then(res => {\n        setMembros(res.data);\n        setIsMember(true);\n      });\n      // Atualiza info do grupo (num_membros)\n      axios.get(`http://localhost:8000/beer_budies/api/grupos/${id}/`).then(res => setGrupo(res.data));\n    }).catch(() => alert(\"Erro ao juntar ao grupo.\"));\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"app-container\",\n    children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      style: {\n        textAlign: 'center',\n        marginTop: '20px'\n      },\n      children: grupo === null || grupo === void 0 ? void 0 : grupo.nome\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        textAlign: 'center',\n        marginBottom: '1em'\n      },\n      children: [!isMember && localStorage.getItem('access') && /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"juntar-grupo-btn\",\n        onClick: juntarAoGrupo,\n        children: \"Juntar ao grupo\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 21\n      }, this), isMember && /*#__PURE__*/_jsxDEV(\"span\", {\n        style: {\n          color: \"#4caf50\",\n          fontWeight: \"bold\"\n        },\n        children: \"J\\xE1 \\xE9s membro deste grupo!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grupo-layout\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"membros-coluna\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Membros\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          children: membros.map(m => /*#__PURE__*/_jsxDEV(\"li\", {\n            children: m.username\n          }, m.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 29\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"eventos-coluna\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Eventos futuros\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 21\n        }, this), eventos.length > 0 ? /*#__PURE__*/_jsxDEV(Cards, {\n          cards: eventos\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 25\n        }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Nenhum evento planeado no futuro\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 9\n  }, this);\n};\n_s(Grupo, \"Pl242fZzA38zhX03iZ4Sz3KZZ3g=\", false, function () {\n  return [useParams];\n});\n_c = Grupo;\nexport default Grupo;\nvar _c;\n$RefreshReg$(_c, \"Grupo\");","map":{"version":3,"names":["React","useEffect","useState","Header","Cards","Footer","useParams","axios","jsxDEV","_jsxDEV","Grupo","_s","id","membros","setMembros","eventos","setEventos","grupo","setGrupo","isMember","setIsMember","get","then","res","data","userId","localStorage","getItem","some","m","String","headers","setItem","user_id","juntarAoGrupo","post","catch","alert","className","children","fileName","_jsxFileName","lineNumber","columnNumber","style","textAlign","marginTop","nome","marginBottom","onClick","color","fontWeight","map","username","length","cards","_c","$RefreshReg$"],"sources":["C:/Users/joaoc/Documents/GitHub/DIAM-PROJETO/beer_budies_frontend/src/Pages/Grupo.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport Header from '../Header/Header';\r\nimport Cards from '../Cards/Cards';\r\nimport Footer from './Footer';\r\nimport '../cssFiles/Grupo.css';\r\nimport { useParams } from 'react-router-dom';\r\nimport axios from 'axios';\r\n\r\nconst Grupo = () => {\r\n    const { id } = useParams();\r\n    const [membros, setMembros] = useState([]);\r\n    const [eventos, setEventos] = useState([]);\r\n    const [grupo, setGrupo] = useState(null);\r\n    const [isMember, setIsMember] = useState(false);\r\n\r\n    useEffect(() => {\r\n        if (!id) return;\r\n        axios.get(`http://localhost:8000/beer_budies/api/grupos/${id}/`).then(res => setGrupo(res.data));\r\n        axios.get(`http://localhost:8000/beer_budies/api/grupos/${id}/membros/`).then(res => {\r\n            setMembros(res.data);\r\n            // Verifica se o user já é membro\r\n            const userId = localStorage.getItem('user_id');\r\n            setIsMember(res.data.some(m => String(m.id) === userId));\r\n        });\r\n        axios.get(`http://localhost:8000/beer_budies/api/eventos/?grupo=${id}`).then(res => setEventos(res.data));\r\n    }, [id]);\r\n\r\n    // Busca o user_id ao montar (se ainda não existir)\r\n    useEffect(() => {\r\n        if (!localStorage.getItem('user_id')) {\r\n            axios.get('http://localhost:8000/beer_budies/api/user/id/', {\r\n                headers: { 'Authorization': `Bearer ${localStorage.getItem('access')}` }\r\n            }).then(res => {\r\n                localStorage.setItem('user_id', res.data.user_id);\r\n            });\r\n        }\r\n    }, []);\r\n\r\n    function juntarAoGrupo() {\r\n        axios.post(`http://localhost:8000/beer_budies/api/grupos/${id}/juntar/`, {}, {\r\n            headers: { 'Authorization': `Bearer ${localStorage.getItem('access')}` }\r\n        }).then(() => {\r\n            // Atualiza membros após juntar\r\n            axios.get(`http://localhost:8000/beer_budies/api/grupos/${id}/membros/`).then(res => {\r\n                setMembros(res.data);\r\n                setIsMember(true);\r\n            });\r\n            // Atualiza info do grupo (num_membros)\r\n            axios.get(`http://localhost:8000/beer_budies/api/grupos/${id}/`).then(res => setGrupo(res.data));\r\n        }).catch(() => alert(\"Erro ao juntar ao grupo.\"));\r\n    }\r\n\r\n    return (\r\n        <div className=\"app-container\">\r\n            <Header />\r\n            <h2 style={{ textAlign: 'center', marginTop: '20px' }}>{grupo?.nome}</h2>\r\n            <div style={{ textAlign: 'center', marginBottom: '1em' }}>\r\n                {!isMember && localStorage.getItem('access') && (\r\n                    <button className=\"juntar-grupo-btn\" onClick={juntarAoGrupo}>\r\n                        Juntar ao grupo\r\n                    </button>\r\n                )}\r\n                {isMember && (\r\n                    <span style={{ color: \"#4caf50\", fontWeight: \"bold\" }}>Já és membro deste grupo!</span>\r\n                )}\r\n            </div>\r\n            <div className=\"grupo-layout\">\r\n                <div className=\"membros-coluna\">\r\n                    <h3>Membros</h3>\r\n                    <ul>\r\n                        {membros.map(m => (\r\n                            <li key={m.id}>{m.username}</li>\r\n                        ))}\r\n                    </ul>\r\n                </div>\r\n                <div className=\"eventos-coluna\">\r\n                    <h3>Eventos futuros</h3>\r\n                    {eventos.length > 0 ? (\r\n                        <Cards cards={eventos} />\r\n                    ) : (\r\n                        <p>Nenhum evento planeado no futuro</p>\r\n                    )}\r\n                </div>\r\n            </div>\r\n            <Footer />\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Grupo;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}